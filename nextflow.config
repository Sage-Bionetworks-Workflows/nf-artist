process {
    container = 'adamjtaylor/htan-artist'
    withLabel: process_low {
        cpus = 2
        memory = 2.GB * task.attempt
    }
    withLabel: process_medium {
        cpus = 3
        memory = 3.GB * task.attempt
    }
    withLabel: process_high {
        cpus = 4
        memory = 4.GB * task.attempt
    }
    errorStrategy { task.exitStatus in 137..140 ? 'retry' : 'ignore' }
    maxRetries 3
}



docker.enabled = true

env {
   NXF_OPTS = '-Xms512m -Xmx2g'
}
